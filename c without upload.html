<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ø³ØªØ¹Ù…Ù„Ø©</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body { min-height:100vh; display:flex; flex-direction:column; background:linear-gradient(to right, #fdfbfb, #ebedee); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
main { flex:1; }
.navbar-brand { font-weight:bold; font-size:1.5rem; text-align:center; }
.card-img-container { width:100%; height:200px; display:flex; align-items:center; justify-content:center; font-size:5rem; background:#fff; border-radius:15px; }
.card { border-radius: 15px; transition: transform 0.3s ease, box-shadow 0.3s ease; }
.card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
.btn-primary { background: linear-gradient(45deg, #6a11cb, #2575fc); border:none; }
.btn-primary:hover { background: linear-gradient(45deg, #2575fc, #6a11cb); }
footer { background:#222; color:#fff; padding:20px; text-align:center; }
footer a { color:#fff; transition: color 0.3s ease; }
footer a:hover { color:#2575fc; }
input#searchInput { border-radius: 50px; padding:10px 20px; border:2px solid #2575fc; }
h3 { margin-bottom:20px; font-weight:bold; color:#333; }
.contact-card { background:white; border-radius:15px; padding:20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container d-flex justify-content-between align-items-center">
    <span class="navbar-brand mx-auto text-center" id="navbarTitle">Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ø³ØªØ¹Ù…Ù„Ø©</span>
    <button class="btn btn-warning" id="langBtn">English</button>
  </div>
</nav>

<div class="container my-3">
  <input type="text" id="searchInput" class="form-control" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨ / Search for a book">
</div>

<main class="container my-4">
  <h3 id="booksTitle" class="mb-3">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨</h3>
  <div class="row" id="bookList"></div>

  <hr class="my-4">

  <h3 id="contactTitle">Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ù„Ø¥Ø±Ø³Ø§Ù„ ÙƒØªØ§Ø¨</h3>
  <div class="contact-card">
    <form
      id="contactForm"
      class="row g-3"
      action="https://formspree.io/f/xvgqyejb"
      method="POST"
    >
      <div class="col-md-6">
        <label class="form-label" id="labelName">Ø§Ù„Ø§Ø³Ù…</label>
        <input type="text" name="name" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label" id="labelEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <input type="email" name="email" class="form-control" required>
      </div>
      <div class="col-12">
        <label class="form-label" id="labelBook">Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨</label>
        <input type="text" name="bookName" class="form-control" required>
      </div>
      <div class="col-12">
        <label class="form-label" id="labelBookPrice">Ø³Ø¹Ø± Ø§Ù„ÙƒØªØ§Ø¨</label>
        <input type="number" name="bookPrice" class="form-control" required>
      </div>
      <div class="col-12">
        <label class="form-label" id="labelMessage">Ø±Ø³Ø§Ù„ØªÙƒ</label>
        <textarea name="message" class="form-control" rows="2"></textarea>
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-primary w-100" id="sendBtn">Ø¥Ø±Ø³Ø§Ù„</button>
      </div>
    </form>
  </div>
</main>

<footer>
  <p>Created by Laith Thawabteh | Phone: +962791111279</p>
  <p>
    <a href="https://www.instagram.com/laith.thawabteh/profilecard/?igsh=a2lhd2I5MGs4anUw" target="_blank"><i class="fab fa-instagram fa-lg me-3"></i></a>
    <a href="https://www.facebook.com/share/14JjPiTSdK3/" target="_blank"><i class="fab fa-facebook fa-lg"></i></a>
  </p>
</footer>

<script>
let books = JSON.parse(localStorage.getItem('booksData')) || [];
let isArabic = true;
const defaultImage = "ğŸ“š";

function renderBooks(filter=""){
  const list = document.getElementById("bookList");
  list.innerHTML = "";
  books.forEach((b)=>{
    const title = isArabic ? b.titleAr : b.titleEn;
    const desc = isArabic ? b.descriptionAr : b.descriptionEn;
    const price = isArabic ? b.price+" Ø¯.Ø£" : b.price+" JOD";

    if(title.toLowerCase().includes(filter.toLowerCase())){
      list.innerHTML += `
      <div class="col-md-4 col-sm-6 mb-3">
        <div class="card h-100 shadow-sm">
          <div class="card-img-container">${b.image || defaultImage}</div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">${title}</h5>
            <p class="card-text flex-grow-1">${desc}</p>
            <p class="card-text"><strong>${price}</strong></p>
            <button class="btn btn-primary w-100 mb-2">${isArabic ? "Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©" : "Add to Cart"}</button>
          </div>
        </div>
      </div>`;
    }
  });
}

function updateSearchPlaceholder(){
  document.getElementById("searchInput").placeholder = isArabic ? "Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨" : "Search for a book";
}

document.getElementById("searchInput").addEventListener("input", function(){
  renderBooks(this.value);
});

window.addEventListener('storage', function(){
  books = JSON.parse(localStorage.getItem('booksData')) || [];
  renderBooks();
});

document.getElementById("langBtn").addEventListener("click", ()=>{
  isArabic = !isArabic;
  document.documentElement.lang = isArabic ? "ar" : "en";
  document.documentElement.dir = isArabic ? "rtl" : "ltr";

  document.getElementById("booksTitle").innerText = isArabic ? "Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨" : "All Books";
  document.getElementById("contactTitle").innerText = isArabic ? "Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ù„Ø¥Ø±Ø³Ø§Ù„ ÙƒØªØ§Ø¨" : "Contact Us to Send Book";
  document.getElementById("labelName").innerText = isArabic ? "Ø§Ù„Ø§Ø³Ù…" : "Name";
  document.getElementById("labelEmail").innerText = isArabic ? "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" : "Email";
  document.getElementById("labelBook").innerText = isArabic ? "Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨" : "Book Name";
  document.getElementById("labelBookPrice").innerText = isArabic ? "Ø³Ø¹Ø± Ø§Ù„ÙƒØªØ§Ø¨" : "Book Price";
  document.getElementById("labelMessage").innerText = isArabic ? "Ø±Ø³Ø§Ù„ØªÙƒ" : "Message";
  document.getElementById("sendBtn").innerText = isArabic ? "Ø¥Ø±Ø³Ø§Ù„" : "Send";
  document.getElementById("navbarTitle").innerText = isArabic ? "Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ø³ØªØ¹Ù…Ù„Ø©" : "Used Books Delivery Service";

  updateSearchPlaceholder();
  renderBooks();
});

updateSearchPlaceholder();
renderBooks();
</script>

</body>
</html>
